{"mappings":"kgBAGA,MAAMA,EAAQC,KAAKC,IAAIC,OAAOC,WAAY,KAGpCC,EAAOC,EAAAC,MAFE,IAEKP,EAAkB,KAAKQ,KAAI,WAC7C,MAAO,CAACP,KAAKQ,SAAWT,EAHX,IAGkBC,KAAKQ,aAKtC,IAAIC,EAEJ,MAAMC,EAAMC,EAAAC,OAAO,QAChBC,OAAO,OACPC,KAAK,QAASf,GACde,KAAK,SAbO,KAcZC,GAAG,SAAS,SAAUC,GACrB,MAAOC,EAAGC,GAAKP,EAAAQ,QAAQH,EAAGL,EAAAS,UAAU,OAAOC,QAC3CZ,EAAIK,KAAK,KAAMG,GAAGH,KAAK,KAAMI,GAC7BI,OAGJ,IAAIC,EAAOb,EACRU,UAAU,SACVI,KAAK,CAAC,KACNC,QACAZ,OAAO,QACPC,KAAK,QAAS,QACdA,KAAK,QApBE,KAqBPA,KAAK,SArBE,KAuBV,MAAMY,EAAShB,EACZU,UAAU,UACVI,KAAKpB,GACLqB,QACAZ,OAAO,UACPC,KAAK,QAAS,SACdA,KAAK,MAAM,SAAUa,GACpB,OAAOA,EAAE,MAEVb,KAAK,MAAM,SAAUa,GACpB,OAAOA,EAAE,MAEVb,KAAK,IAAK,YAUJQ,IACP,MAAMM,GAAQnB,EAAIK,KAAK,MACjBe,GAAQpB,EAAIK,KAAK,MAEvBS,EAAKT,KAAK,IAAKc,EAAOE,IAAOhB,KAAK,IAAKe,EAAOC,IAE9C,MAAMC,GAAMR,EAAKT,KAAK,KAChBkB,GAAMT,EAAKT,KAAK,KAChBmB,GAAMV,EAAKT,KAAK,SAChBoB,GAAMX,EAAKT,KAAK,UAEtBY,EAAOS,MAAMC,IACX,MAAOnB,EAAGC,GAAKkB,EACfA,EAAEC,SAAWpB,GAAKc,GAAMd,GAAKc,EAAKE,GAAMf,GAAKc,GAAMd,GAAKc,EAAKE,KAG/DR,EAAOY,QAAQ,YAAaF,GAAMA,EAAEC,WAxBtC5B,EAAMC,EACHG,OAAO,UACPC,KAAK,KAAM,MACXA,KAAK,IAAK,GACVA,KAAK,KAAMf,EAAQ,GACnBe,KAAK,KAAMyB,KACXC,MAAM,OAAQ,UAqBjBlB","sources":["quadtrees/demos/1.js"],"sourcesContent":["import { select, selectAll, pointer } from 'd3-selection';\nimport { range } from 'd3-array';\n\nconst width = Math.min(window.innerWidth, 750);\nconst height = 300;\n\nconst data = range((width * height) / 600).map(function () {\n  return [Math.random() * width, Math.random() * height];\n});\n\nconst s = 100;\n\nlet ptr;\n\nconst svg = select('body')\n  .append('svg')\n  .attr('width', width)\n  .attr('height', height)\n  .on('click', function (e) {\n    const [x, y] = pointer(e, selectAll('svg').node());\n    ptr.attr('cx', x).attr('cy', y);\n    draw();\n  });\n\nlet rect = svg\n  .selectAll('.rect')\n  .data([{}])\n  .enter()\n  .append('rect')\n  .attr('class', 'rect')\n  .attr('width', s)\n  .attr('height', s);\n\nconst points = svg\n  .selectAll('.point')\n  .data(data)\n  .enter()\n  .append('circle')\n  .attr('class', 'point')\n  .attr('cx', function (d) {\n    return d[0];\n  })\n  .attr('cy', function (d) {\n    return d[1];\n  })\n  .attr('r', 3);\n\nptr = svg\n  .append('circle')\n  .attr('id', 'pt')\n  .attr('r', 3)\n  .attr('cx', width / 2)\n  .attr('cy', height / 2)\n  .style('fill', 'yellow');\n\nfunction draw() {\n  const ptrx = +ptr.attr('cx');\n  const ptry = +ptr.attr('cy');\n\n  rect.attr('x', ptrx - s / 2).attr('y', ptry - s / 2);\n\n  const rx = +rect.attr('x');\n  const ry = +rect.attr('y');\n  const rw = +rect.attr('width');\n  const rh = +rect.attr('height');\n\n  points.each((p) => {\n    const [x, y] = p;\n    p.selected = x >= rx && x <= rx + rw && y >= ry && y <= ry + rh;\n  });\n\n  points.classed('selected', (p) => p.selected);\n}\n\ndraw();\n"],"names":["$40efd446b68972e2$var$width","Math","min","window","innerWidth","$40efd446b68972e2$var$data","$a9clF","range","map","random","$40efd446b68972e2$var$ptr","$40efd446b68972e2$var$svg","$cNEHL","select","append","attr","on","e","x","y","pointer","selectAll","node","$40efd446b68972e2$var$draw","$40efd446b68972e2$var$rect","data","enter","$40efd446b68972e2$var$points","d","ptrx","ptry","$40efd446b68972e2$var$s","rx","ry","rw","rh","each","p","selected","classed","$40efd446b68972e2$var$height","style"],"version":3,"file":"1.92287f5e.js.map"}
var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},n={},r=t.parcelRequirefde0;null==r&&((r=function(t){if(t in e)return e[t].exports;if(t in n){var r=n[t];delete n[t];var o={id:t,exports:{}};return e[t]=o,r.call(o.exports,o,o.exports),o.exports}var d=new Error("Cannot find module '"+t+"'");throw d.code="MODULE_NOT_FOUND",d}).register=function(t,e){n[t]=e},t.parcelRequirefde0=r);var o=r("dMUm6"),d=r("d3250"),i=r("cNEHL"),a=r("gqj1B").insert;const u=Math.min(window.innerWidth,750);document.querySelector("#target").style.width=`${u}px`;const l=i.select("#target").append("svg").attr("width",u).attr("height",300);let c={boundary:{x1:0,y1:0,x2:u,y2:300},points:[],depth:1};const p=d.scaleLinear().domain([0,8]).range(["#efe","#060"]);function s(t){t.depth=0;const e=[];return f(t,(t=>{e.push(t)})),e}function y(t){return s(t).flatMap((t=>t.points))}function f(t,e){e(t),t.topLeftChild&&(t.topLeftChild.depth=t.depth+1,f(t.topLeftChild,e),t.topRightChild.depth=t.depth+1,f(t.topRightChild,e),t.bottomLeftChild.depth=t.depth+1,f(t.bottomLeftChild,e),t.bottomRightChild.depth=t.depth+1,f(t.bottomRightChild,e))}let h,x;function b(){x=l.selectAll(".node").data(s(c),(t=>t.boundary)),x.exit().remove(),x.enter().append("rect").attr("class","node").attr("x",(function(t){return t.boundary.x1})).attr("y",(function(t){return t.boundary.y1})).attr("width",(function(t){return t.boundary.x2-t.boundary.x1})).attr("height",(function(t){return t.boundary.y2-t.boundary.y1})),l.selectAll(".node").style("fill",(function(t){return p(t.depth)})),h=l.selectAll(".point").data(y(c),(t=>t.x)),h.exit().remove();const t=h.enter().append("circle").attr("class","point").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",3);"function"==typeof t.transition&&t.transition().duration(2e3).styleTween("fill",(function(){return o.interpolate("red","#999")})),l.selectAll(".point").raise()}x=l.selectAll(".node").data(s(c),(t=>t.boundary)).enter().append("rect").attr("class","node").attr("x",(function(t){return t.boundary.x1})).attr("y",(function(t){return t.boundary.y1})).attr("width",(function(t){return t.boundary.x2-t.boundary.x1})).attr("height",(function(t){return t.boundary.y2-t.boundary.y1})),h=l.selectAll(".point").data(y(c)).enter().append("circle").attr("class","point").attr("cx",(function(t){return t.x})).attr("cy",(function(t){return t.y})).attr("r",3),c={boundary:{x1:0,y1:0,x2:u,y2:300},points:[],depth:1},b();const g=document.querySelector("button#restart");document.querySelector("button#add").addEventListener("click",(()=>{a(c,{x:Math.random()*u,y:300*Math.random()}),b()})),g.addEventListener("click",(()=>{c={boundary:{x1:0,y1:0,x2:u,y2:300},points:[],depth:1},b()}));
//# sourceMappingURL=3.71965316.js.map
